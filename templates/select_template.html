{% extends "base.html" %}

{% block title %}템플릿 선택 - 프롬프트 생성기{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-lg-8">
        <div class="text-center mb-4">
            <h2>
                <i class="fas fa-magic text-success me-2"></i>템플릿 선택
            </h2>
        </div>

        {% if templates %}
        <div class="row">
            {% for template in templates %}
            <div class="col-lg-6 mb-4">
                <div class="card h-100 shadow-sm hover-card template-select-card" onclick="selectTemplate({{ template.id }})">
                    <div class="card-body">
                        <h5 class="card-title">
                            <i class="fas fa-file-text text-primary me-2"></i>{{ template.title }}
                        </h5>
                        <div class="card-subtitle mb-2 text-muted">
                            <small>
                                <i class="fas fa-calendar-alt me-1"></i>
                                {{ template.created_at.strftime('%Y년 %m월 %d일') }}
                            </small>
                        </div>
                        <p class="card-text">
                            <small class="text-muted">
                                <i class="fas fa-layer-group me-1"></i>
                                섹션 {{ template.sections|length }}개
                            </small>
                        </p>
                    </div>
                    <div class="card-footer bg-transparent text-center">
                        <span class="text-primary fw-bold">
                            <i class="fas fa-arrow-right me-1"></i>이 템플릿 사용하기
                        </span>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        {% else %}
        <div class="text-center py-5">
            <div class="mb-4">
                <i class="fas fa-exclamation-triangle fa-5x text-warning"></i>
            </div>
            <h4 class="text-muted mb-3">사용할 수 있는 템플릿이 없습니다</h4>
            <p class="text-muted mb-4">먼저 템플릿을 만들어주세요!</p>
            <a href="/templates/create" class="btn btn-primary btn-lg">
                <i class="fas fa-plus me-2"></i>첫 템플릿 만들기
            </a>
        </div>
        {% endif %}

        <div class="text-center mt-4">
            <a href="/" class="btn btn-secondary">
                <i class="fas fa-home me-2"></i>홈으로 돌아가기
            </a>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
function selectTemplate(templateId) {
    window.location.href = `/prompts/create/${templateId}`;
}
</script>
{% endblock %} 